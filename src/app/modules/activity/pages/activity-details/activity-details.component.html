<ng-container *ngIf="activity$ | async as activity">
	<div class="activity-card-container">
		<div class="secondary-box">
			<div class="infos-container activity-informations">
				<h3>Infos pratiques</h3>

				<div class="activity-info-items-box">
					<app-info-item
						icon="pi pi-map-marker"
						content="À Bordeaux (33), Gironde"
					></app-info-item>

					<app-info-item
						icon="pi pi-calendar"
						content="Le 24 mai 2024 à 21h"
					></app-info-item>

					<app-info-item
						icon="pi pi-user"
						content="De 18 à 50 ans"
					></app-info-item>

					<app-info-item
						icon="pi pi-user"
						content="5 places restantes"
					></app-info-item>
				</div>

				<div class="btn-box">
					<app-button-ultra-wilde
						[label]="!hasBooking ? 'S\'inscrire' : 'Se désinscrire'"
						(click)="onModal()"
					>
					</app-button-ultra-wilde>
				</div>
			</div>

			<div class="infos-container activity-creator-informations">
				<h3>Infos sur l'auteur</h3>

				<div class="author-info-items-box">
					<img src="/assets/photos/avatar.jpg" alt="" class="author-avatar" />

					<div class="infos-author">
						<h4>John doe</h4>
						<app-info-item icon="pi pi-user" content="30 ans"></app-info-item>

						<app-info-item
							icon="pi pi-map-marker"
							content="Bordeaux (33), Gironde"
						></app-info-item>
					</div>
				</div>

				<p class="author-description">
					Lemon drops oat cake gingerbread topping apple pie tart shortbread.
					Bonbon halvah jelly-o sweet roll pudding. Muffin gummies jujubes lemon
					drops tart tart powder oat cake powder...
				</p>

				<div
					class="author-info-items-box column"
					[ngStyle]="{ marginBottom: 0 }"
				>
					<app-info-item
						icon="pi pi-image"
						content="A participé à 10 activités"
					></app-info-item>

					<app-info-item
						icon="pi pi-images"
						content="A créé 10 activités"
					></app-info-item>
				</div>

				<div class="btn-box">
					<app-button-ultra-wilde label="Voir le profil de l’auteur">
					</app-button-ultra-wilde>

					<app-button-ultra-wilde label="Contacter l’auteur" [outlined]="true">
					</app-button-ultra-wilde>
				</div>
			</div>
		</div>

		<div class="primary-box">
			<p-card>
				<ng-template pTemplate="title">
					<p-button
						label="Activité précédente"
						[rounded]="true"
						[outlined]="true"
					/>

					<h1 class="activity-title">{{ activity.name }}</h1>

					<p-button
						label="Activité suivante"
						[rounded]="true"
						[outlined]="true"
					/>
				</ng-template>
				<ng-template pTemplate="header">
					<div class="btn-admin">
						<p-button
							[raised]="true"
							icon="pi pi-pencil"
							[rounded]="true"
							severity="success"
							[routerLink]="[fullActivityRoute.UPDATE, activity.id]"
						/>
					</div>
					<img
						[src]="
							activity.imgUrl ? activity.imgUrl : '/assets/photos/no-image.jpg'
						"
						alt="{{ activity.name }}"
					/>
				</ng-template>

				<app-divider [align]="'center'" [type]="'solid'"></app-divider>

				<div
					[innerHTML]="activity.description | paragraphSplit"
					class="activity-description"
				></div>

				<p>Catégorie : {{ activity.categoryId.name }}</p>
				<p>City : {{ activity.activityCity.name }}</p>

				<a
					*ngIf="activity.link"
					href="{{ activity.link | link }}"
					[title]="activity.name"
					target="_blank"
					rel="noopener noreferrer"
					>Voir Plus</a
				>

				<ng-template pTemplate="footer">
					<div class="btns-box">
						<p-button
							[raised]="true"
							rounded
							(click)="onModal()"
							[label]="!hasBooking ? 'S\'inscrire' : 'Se désinscrire'"
						></p-button>
					</div>
				</ng-template>
			</p-card>
		</div>
	</div>

	<app-modal-confirm-reservation
		[userId]="connectedUser.id"
		[activityId]="activity.id"
		[hasBooking]="hasBooking"
	></app-modal-confirm-reservation>
</ng-container>
<ng-container *ngIf="suggestList$ | async as activityList">
	<app-carousel-activity
		[activityList]="activityList"
		[numVisible]="6"
		[numScroll]="1"
		[circular]="false"
	></app-carousel-activity>
</ng-container>
