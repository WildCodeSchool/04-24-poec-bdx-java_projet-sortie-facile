<h1>Boite Mail</h1>

<div class="card">
	<p-table
		[paginator]="true"
		[rows]="5"
		[rowsPerPageOptions]="[5, 10, 20]"
		*ngIf="contacts$ | async as contacts"
		[value]="contacts"
		[tableStyle]="{ 'min-width': '50rem' }"
	>
		<ng-template pTemplate="header">
			<tr>
				<th>Title</th>
				<th>User Email</th>
				<th>Mail</th>
			</tr>
		</ng-template>
		<ng-template pTemplate="body" let-contact>
			<tr (click)="showMail(contact)" style="cursor: pointer">
				<td>{{ contact.title }}</td>
				<td>{{ contact.email }}</td>
				<td>{{ contact.message }}</td>
			</tr>
		</ng-template>
	</p-table>
</div>

<!-- Modal to display full message -->
<div *ngIf="selectedContact" class="modal">
	<div class="modal-content">
		<button class="close" (click)="closeMail()">&times;</button>
		<h2>{{ selectedContact.title }}</h2>
		<p>{{ selectedContact.message }}</p>
	</div>
</div>
